<h1 class="title">Mantenimiento Crédito</h1>

<form action="" class="form" [formGroup]="group">
  <div class="container_user">
    <div class="container_input">
      <p-inputgroup>
        <p-inputgroup-addon>
          <span class="pi pi-user"></span>
        </p-inputgroup-addon>
        <input pInputText  placeholder="Nombre Usuario" formControlName="nombre_usuario"/>
      </p-inputgroup>
    </div>
    <p-button label="Buscar" icon="pi pi-search"/>
    <p-button label="Nuevo Credito" icon="pi pi-plus" (onClick)="showDialog()"/>
  </div>
  <p-button label="Excel" icon="pi pi-file-excel"/>
</form>

<div class="card">
  <p-table
      [paginator]="true"
      [rows]="7"
      [value]="products"
      showGridlines
      [tableStyle]="{ 'min-width': '50rem' }">
          <ng-template #header>
              <tr>
                  <th>Usuario</th>
                  <th>Descripcion</th>
                  <th>Monto</th>
                  <th>Fecha Registro</th>
                  <th>Fecha Actualizacion</th>
                  <th>Estado</th>
                  <th>Comentarios</th>
              </tr>
          </ng-template>
          <ng-template #body let-product>
            <tr>
                <td>{{ product.usuario }}</td>
                <td>{{ product.descripcion }}</td>
                <td>{{ product.monto }}</td>
                <td>{{ product.fechaRegistro }}</td>
                <td>{{ product.fechaActualizacion }}</td>
                <td>{{ product.estado }}</td>
                <td>{{ product.comentarios }}</td>
            </tr>
          </ng-template>
  </p-table>
</div>



<!-- NUEVO CREDITO  -->
<p-dialog
  header="Nuevo Crédito"
  [modal]="true"
  [(visible)]="visible"
  [style]="{ width: '30rem' }"
  [contentStyle]="{ 'padding': '1.5rem' }">

  <form [formGroup]="creditoForm" (ngSubmit)="guardarCredito()" class="credito-form">
    <div class="p-fluid">

      <div class="p-field p-grid">
        <label for="usuario" class="p-col-12 p-md-4">Usuario</label>
        <div class="p-col-12 p-md-8">
          <input id="usuario" type="text" pInputText formControlName="usuario" placeholder="Ingrese el usuario" />
        </div>
      </div>

      <div class="p-field p-grid">
        <label for="monto" class="p-col-12 p-md-4">Monto</label>
        <div class="p-col-12 p-md-8">
          <input id="monto" type="number" pInputText formControlName="monto" placeholder="Ingrese el monto" min="0"/>
        </div>
      </div>

      <div class="p-field p-grid">
        <label for="descripcion" class="p-col-12 p-md-4">Descripción</label>
        <div class="p-col-12 p-md-8">
          <textarea id="descripcion" rows="3" pInputTextarea formControlName="descripcion" placeholder="Ingrese la descripción"></textarea>
        </div>
      </div>

      <div class="p-d-flex p-jc-end p-mt-3">
        <button pButton type="button" label="Cancelar" icon="pi pi-times" class="p-button-text p-mr-2" (click)="visible = false"></button>
        <button pButton type="submit" label="Guardar" icon="pi pi-check" class="p-button" [disabled]="creditoForm.invalid"></button>
      </div>

    </div>
  </form>
</p-dialog>


